#+PROPERTY: header-args:elisp :tangle (concat temporary-file-directory "init.el")

* File Header

This includes some necessary headers.

#+begin_src elisp
  ;;; init.el --- Nasy's Emacs Configuration file.            -*- lexical-binding: t; -*-
  ;; Copyright (C) 2018  Nasy

  ;; Author: Nasy <nasyxx+emacs@gmail.com>

  ;;; Commentary:

  ;; Nasy's emacs.d init file.  For macOS and Emacs 28.
#+end_src

#+begin_src elisp :exports none
  ;;----------------------------------------------------------------------------
  ;; DO NOT EDIT THIS FILE DIRECTLY
  ;; This is a file generated from a literate programing source file located at
  ;; README.org
  ;;
  ;; You should make any changes there and regenerate using make generate.
  ;;----------------------------------------------------------------------------

  ;;; Code:
#+end_src

* Lexical Binding

This makes it so that the file that is produced from tangling this file uses
lexical scoping.

#+begin_src elisp
  (setq-default lexical-binding t)
#+end_src

* Bootstrap

In this section, it will include default settings, ~load-path~ and packages
manager.  At the same time, it will initialize the benchmark and garbage
collection.

#+begin_src elisp
  ;;------------------------------------------------------------------------------
  ;; Bootstrap
  (add-to-list 'load-path (expand-file-name "config" user-emacs-directory))
  (require 'nasy-bootstrap)
#+end_src

#+include: "bootstrap/README.org"

* Core

#+begin_src elisp
  (nasy/local-repo core)
  (require 'nasy-core)
#+end_src

#+include: "core/README.org"

* Editor

#+begin_src elisp
  (nasy/local-repo editor)
  (require 'nasy-editor)
#+end_src

#+include: "editor/README.org"

* Tools

#+begin_src elisp
  (nasy/local-repo tools :build (:not compile))
  (require 'nasy-tools)
#+end_src

#+include: "tools/README.org"

* Languages

#+begin_src elisp
  (nasy/local-repo langs)
  (require 'nasy-langs)
#+end_src

#+include: "langs/README.org"

* Org Mode

#+begin_src elisp
  (nasy/local-repo org)
  (require 'nasy-org)
#+end_src

#+include: "org/README.org"

* UI

#+begin_src elisp
  (nasy/local-repo ui)
  (require 'nasy-ui)
#+end_src

#+include: "ui/README.org"

* Extra

Use ~(nasy/extra-repo xxx)~

* Epilogue

#+begin_src elisp :exports none
  ;;----------------------------------------------------------------------------
  ;; Epilogue
  ;;----------------------------------------------------------------------------
#+end_src

#+begin_src elisp
  (run-hooks 'nasy/config-before-hook)

  (setq custom-file (no-littering-expand-etc-file-name "custom.el"))

  (add-hook 'after-init-hook #'(lambda () (run-hooks 'nasy/config-after-hook)))

  (when (file-exists-p custom-file)
    (load custom-file))

  (when *server*
    (server-start))
  ;;; init.el ends here
#+end_src
